Ablauf:
- Command generiert Event                 process_command
- aus Event werden Jobs generiert         process_event
- Jobs werden verarbeitet                 process_job

Wie nennen wir die entsprechenden 3 Funktionen? (wie oben!)


Controller und View-Verz. für jedes Command?

Wie die Transformations machen für:

    2016-04-01_11-11-11_Redmine_extend_users.rb
      def change
        # groups that every employee is assigned to
        create_adapter_table :redmine, :employee_groups do |t|
          t.int :redmine_group_id
        end
        adapt_table :redmine, :users do |t|
          t.int :id
        end
      end



class CreaateAdapterTable
  def initialize(ns,t)
    @ns = ns
    @t = t
  end

  def method_missing(n, col, *args, **map, &block)
    if (col.is_symbol?)
      ns_col = '_'.join(@ns, col)
      @t.send(n, ns_col, *args, **map, &block)
    else
      super.method_missing(...)
    end
  end
end

def create_adapter_table(ns, tn, *args, **map, &block)
  create_table('_'.join(ns,tn), *args, **map) do |t|
    yield CreateAdapterTable.new(ns,t)
  end
end
